<UserControl x:Class="HMI_template_v0._2.Pages.Dashboard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:HMI_template_v0._2.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="900"
             Background="#2D2D30">

    <UserControl.DataContext>
        <vm:DashboardViewModel/>
    </UserControl.DataContext>

    <!-- ===================================================================== -->
    <!-- SPOSTA LA SEZIONE DELLE RISORSE QUI, ALL'INIZIO DEL CONTROLLO         -->
    <!-- ===================================================================== -->
    <UserControl.Resources>
        <!-- Stili per rendere il codice più pulito e consistente -->
        <Style x:Key="TagLabelStyle" TargetType="Label">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style x:Key="TagTextBoxStyle" TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style x:Key="ReadOnlyTextBoxStyle" TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="Background" Value="#333"/>
            <Setter Property="Foreground" Value="#CCC"/>
            <Setter Property="BorderBrush" Value="#555"/>
        </Style>
    </UserControl.Resources>


    <!-- ScrollViewer per gestire molti tag senza che escano dallo schermo -->
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Titolo -->
            <TextBlock Text="PLC Real-Time Data" Grid.Row="0" FontSize="24" FontWeight="Bold" Foreground="White" Margin="0,0,0,20"/>

            <!-- Area Contenuto Principale divisa in due colonne -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- ======================================================= -->
                <!-- COLONNA SINISTRA: TAG IN LETTURA/SCRITTURA (Read/Write) -->
                <!-- ======================================================= -->
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Read/Write Tags" FontSize="18" FontWeight="SemiBold" Foreground="#57a64a" Margin="0,0,0,10" />
                    <Border Background="#3E3E42" CornerRadius="5" Padding="10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!-- Labels a sinistra -->
                            <Label Grid.Row="0" Content="Tag1 (Int16):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="1" Content="Tag2 (Int32):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="2" Content="Tag3 (Int64):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="3" Content="Tag4 (UInt16):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="4" Content="Tag5 (UInt32):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="5" Content="Tag6 (UInt64):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="6" Content="Tag7 (Double):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="7" Content="Tag8 (String):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="8" Content="Tag9 (Byte):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="9" Content="Tag10 (Boolean):" Style="{StaticResource TagLabelStyle}"/>

                            <!-- Controlli a destra -->
                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding [Tag1], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding [Tag2], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding [Tag3], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding [Tag4], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding [Tag5], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="5" Grid.Column="1" Text="{Binding [Tag6], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding [Tag7], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding [Tag8], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <TextBox Grid.Row="8" Grid.Column="1" Text="{Binding [Tag9], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TagTextBoxStyle}"/>
                            <CheckBox Grid.Row="9" Grid.Column="1" IsChecked="{Binding [Tag10], Mode=TwoWay}" VerticalAlignment="Center" Margin="5"/>
                        </Grid>
                    </Border>
                </StackPanel>

                <!-- ============================================= -->
                <!-- COLONNA DESTRA: TAG IN SOLA LETTURA (Read-Only) -->
                <!-- ============================================= -->
                <StackPanel Grid.Column="2">
                    <TextBlock Text="Read-Only Tags" FontSize="18" FontWeight="SemiBold" Foreground="#D16969" Margin="0,0,0,10" />
                    <Border Background="#3E3E42" CornerRadius="5" Padding="10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!-- Labels a sinistra -->
                            <Label Grid.Row="0" Content="Tag11 (Int16):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="1" Content="Tag12 (Int32):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="2" Content="Tag13 (Int64):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="3" Content="Tag14 (UInt16):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="4" Content="Tag15 (UInt32):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="5" Content="Tag16 (UInt64):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="6" Content="Tag17 (Double):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="7" Content="Tag18 (String):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="8" Content="Tag19 (Byte):" Style="{StaticResource TagLabelStyle}"/>
                            <Label Grid.Row="9" Content="Tag20 (Boolean):" Style="{StaticResource TagLabelStyle}"/>

                            <!-- Controlli a destra con Mode=OneWay -->
                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding [Tag11], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding [Tag12], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding [Tag13], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding [Tag14], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding [Tag15], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="5" Grid.Column="1" Text="{Binding [Tag16], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding [Tag17], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding [Tag18], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <TextBox Grid.Row="8" Grid.Column="1" Text="{Binding [Tag19], Mode=OneWay}" Style="{StaticResource ReadOnlyTextBoxStyle}"/>
                            <CheckBox Grid.Row="9" Grid.Column="1" IsChecked="{Binding [Tag20], Mode=OneWay}" IsEnabled="False" VerticalAlignment="Center" Margin="5"/>
                        </Grid>
                    </Border>
                </StackPanel>
            </Grid>

            <!-- Barra di stato in fondo -->
            <StatusBar Grid.Row="2" VerticalAlignment="Bottom" Background="Transparent" Margin="0,20,0,0">
                <StatusBarItem>
                    <TextBlock Text="{Binding ConnectionStatus}" Foreground="LightGray" FontStyle="Italic"/>
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </ScrollViewer>

</UserControl>